# AWS CDK v2 - Prerequisites & Installation Guide

## 1. Install Node.js and uv package

AWS CDK requires Node.js (>= 18.x). CDK is built on Node.js regardless of the language you use.

```bash
# Download and install from https://nodejs.org (LTS recommended) and https://docs.astral.sh/uv/getting-started/installation/

# Verify installation
node --version
npm --version
 uv --version
```

## 2. Install AWS CDK CLI

```bash
npm install -g aws-cdk

# Verify installation
cdk --version
```

## 3. Create venv using uv with python version

Required for writing CDK apps in Python (>= 3.8).

```bash
uv init
uv venv --python 3.14
.venv\Scripts\activate

for installing any package 

uv pip install aws-cdk-lib constructs

```

## 4. Install AWS CLI

Required for configuring AWS credentials and interacting with AWS services.

```bash
# Download and install from https://aws.amazon.com/cli/

# Verify installation
aws --version
```

## 5. Configure AWS Credentials

```bash
aws configure
```

You will be prompted for:
- **AWS Access Key ID**
- **AWS Secret Access Key**
- **Default region** (e.g., `us-east-1`)
- **Default output format** (e.g., `json`)

## 6. Bootstrap the AWS Environment

Bootstrapping provisions resources that CDK needs to deploy (S3 bucket, IAM roles, etc.). Run this once per account/region.

```bash
cdk bootstrap aws://ACCOUNT_ID/REGION


# Example
cdk bootstrap aws://33971290xxxx/ap-south-1
```

## 7. Create a New CDK Python Project

```bash
mkdir cdk-app-python
cd cdk-app-python
cdk init app --language python
```

This generates:
- `app.py` - Entry point
- `cdk_app_python/` - Stack definitions
- `requirements.txt` - Python dependencies
- `cdk.json` - CDK configuration

## 8. Set Up Python Virtual Environment & Install Dependencies

```bash
# Create and activate virtual environment
python -m venv .venv

# Windows
.venv\Scripts\activate

# macOS/Linux
source .venv/bin/activate

# Install dependencies
pip install -r requirements.txt
```

## 9. Useful CDK Commands

| Command             | Description                                      |
|---------------------|--------------------------------------------------|
| `cdk synth`         | Synthesize the CloudFormation template            |
| `cdk deploy`        | Deploy the stack to AWS                           |
| `cdk diff`          | Compare deployed stack with current state         |
| `cdk destroy`       | Destroy the deployed stack                        |
| `cdk ls`            | List all stacks in the app                        |
| `cdk doctor`        | Check for potential problems with the CDK setup   |

## Summary of Prerequisites

| Prerequisite     | Minimum Version | Purpose                          |
|------------------|-----------------|----------------------------------|
| Node.js          | >= 18.x         | Runtime for CDK CLI              |
| npm              | (comes with Node)| Install CDK CLI                 |
| AWS CDK CLI      | v2.x            | CDK command-line tool            |
| Python           | >= 3.8          | Language for CDK app             |
| pip              | (comes with Python)| Install Python packages       |
| AWS CLI          | v2.x            | Configure credentials            |
| AWS Account      | -               | Deploy resources                 |
